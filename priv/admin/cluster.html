<html>
<head>
    <meta charset="UTF-8" />
    <title>Cluster Overview</title>
    <link type="text/css" rel="stylesheet" media="all" href="/admin/ui/style.css" />
</head>

<!-- when the page finishes loading, start filling in details -->
<body>
    
    <!-- header with logo -->
    <div id="header">
        <a id="riak-control-logo"></a>
    </div><!-- header -->

    <!-- wrap entire content -->
    <div id="wrapper" class="split gui-text">
        <table>
            <tr>
                <td id="nav-box">
                    <div id="navigation">
                        <ul id="nav-ul">
                            <li id="nav-cluster" class="nav-li"><a class="gui-text-bold nav-item">Cluster</a></li>
                            <li id="nav-ring" class="nav-li"><a class="gui-text-bold nav-item">Ring</a></li>
                            <li id="nav-objects" class="nav-li"><a class="gui-text-bold nav-item">Objects</a></li>
                            <li id="nav-mapreduce" class="nav-li"><a class="gui-text-bold nav-item">Map/Reduce</a></li>
                            <li id="nav-graphs" class="nav-li"><a class="gui-text-bold nav-item">Graphs</a></li>
                            <li id="nav-console" class="nav-li"><a class="gui-text-bold nav-item">Console</a></li>
                            <li id="nav-support" class="nav-li"><a class="gui-text-bold nav-item">Support</a></li>
                        </ul>
                        <div id="active-nav"></div>
                    </div>
                    <div id="split-bar"></div>
                </td>
                <td id="content-well">
                    <h1 class="gui-headline-bold">Cluster Overview <span id="total-number"></span></h1>
                    <div id="add-node">
                        <h3 class="gui-headline">Add Nodes to the Cluster...</h3>
                        <table>
                            <tr>
                                <td>
                                    <div class="gui-field gui-text">
                                        <input class="gui-field-input gui-text" type="text" name="nodeName" />
                                    </div>
                                </td>
                                <td class="button-column">
                                    <a id="add-node-button" class="gui-point-button gui-text-bold right">
                                        <span class="gui-button-msg">ADD NODE</span>
                                    </a>
                                </td>
                            </tr>
                        </table>
                    </div>
                </td>
            </tr>
        </table>
    </div><!-- #wrapper -->

    <!-- page container -->
    <div id="container">
    
        <!-- node template -->
        <div class="node row-template" style="display:none;">
            <table width="100%">
                <tr>
                    <td class="name" align="left">node</td>
                    <td class="status" align="right" width="80px">status</td>
                </tr>
            </table>
        </div>
    
        <!-- content navigation menu -->
        <!--
        <div >
            <ul>
                <li><a href="#" class="active">Cluster</a></li>
                <li><a href="/admin/ui/ring.html">Ring</a></li>
                <li><a href="/admin/ui/objects.html">Objects</a></li>
                <li><a href="/admin/ui/mr.html">Map/Reduce</a></li>
                <li><a href="/admin/ui/graphs.html">Graphs</a></li>
                <li><a href="/admin/ui/console.html">Console</a></li>
                <li><a href="/admin/ui/support.html">Support</a></li>
            </ul>
        </div>
        -->
    
        <!-- node context menu -->
        <div id="cmenu" style="display:none; position:absolute;">
            <ul>
                <li><a href="#">Status</a></li>
                <hr/>
                <li><a href="#">Shutdown</a></li>
                <li><a href="#">Leave Cluster</a></li>
                <li><a href="#">Mark Down</a></li>
            </ul>
        </div>
    
        <!-- primary content view -->
        <div id="content-container">
        
            <div id="content">
                <h2 id="section">Cluster Overview</h2><br/>
                <table width="100%">
                    <tr>
                        <td align="left" class="header">Node</td>
                        <td align="right" class="header" width="80px">Status</td>
                    </tr>
                </table>
    
                <div id="cluster-table"></div> 
                
                <img id="spinner" src="/admin/ui/spinner.gif">
                <!--
                <table width="100%" style="margin-top:20px;">
                    <tr>
                        <td align="left">
                            <input class="field" type="text" id="node-to-add" style="width:100%;">
                        </td>
                        <td align="right" width="80px">
                            <input type="button" onclick="add_node()" value="Add">
                        </td>
                    </tr>
                </table>
                -->
            </div><!-- #content -->
    
            <!-- side panel for node details -->
            <div id="aside">
                <h2 id="node-name">Node Details</h2><br/>
                <div id="node-actions">
                    Select a node to interact with it.
                </div>
                <div id="node-pang-actions" style="display:none">
                    <input type="button" onclick="down_node()" value="Mark Down">
                    <p style="margin:10px;">
                        This node is currently offline. It must be restarted manually
                        to rejoin the cluster. If some nodes are currently stuck
                        trying to leave the cluster or handoff data, then marking
                        this node as 'down' should take care of the problem.
                    </p>
                </div>
                <div id="node-pong-actions" style="display:none">
                    <input type="button" onclick="stop_node()" value="Shutdown">
                    <p style="margin:10px;">
                        This will take the node offline and stop the Riak process
                        on it. This will <b>not</b> mark the node as 'down'. You
                        will need to manually restart the node.
                    </p>
                    <input type="button" onclick="leave_cluster()" value="Leave Cluster">
                    <p style="margin:10px;">
                        This will cause the node to begin the process of leaving the
                        cluster. It will handoff its partition data to other partitions
                        in the ring and then take itself offline.
                    </p>
                </div>
            </div><!-- #aside -->
    
            <!-- footer, basho copyright -->
            <div id="footer">
                <table width="100%">
                    <tr>
                        <td align="left">
                            <img src="/admin/ui/basho-logo.png">
                        </td>
                        <td align="right">
                            <span style="font-size:small">
                                Copyright &copy; 2011 <b>Basho Technologies, Inc.</b>
                                All rights reserved.
                            </span>
                        </td>
                    </tr>
                </table>
            </div><!-- #footer -->

        </div><!-- #content-container -->
        
    </div><!-- #container -->
    
    <script src="/admin/ui/jquery-1.7.min.js"></script>
    <script src="/admin/ui/jquery-ui-1.8.16.custom.min.js"></script>
    <script src="/admin/ui/admin.js"></script>
    <script src="/admin/ui/cluster.js"></script>
    <script src="/admin/ui/gui.js"></script>
</body>
</html>
